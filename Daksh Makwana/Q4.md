## 4. Course Schedule II

There are a total of `numCourses` courses you have to take, labeled from `0` to `numCourses - 1`.  

You are given an array `prerequisites` where `prerequisites[i] = [ai, bi]` indicates that you must take course `bi` first if you want to take course `ai`.  

Return the ordering of courses you should take to finish all courses.  
- If there are many valid answers, return any of them.  
- If it is impossible to finish all courses, return an empty array.

### Example 1

**Input:**  
numCourses = 2, prerequisites = [[1,0]]


**Output:**  
[0,1]


**Explanation:**  
To take course 1 you should have finished course 0. So the correct course order is `[0,1]`.

### Solution


```php
<?php

function findOrder($numCourses, $prerequisites) {
    $adj = array_fill(0, $numCourses, []);
    $in_degree = array_fill(0, $numCourses, 0);

    foreach ($prerequisites as $pair) {
        $course = $pair[0];
        $prereq = $pair[1];
        $adj[$prereq][] = $course;
        $in_degree[$course]++;
    }

    $queue = new SplQueue();
    for ($i = 0; $i < $numCourses; $i++) {
        if ($in_degree[$i] == 0) {
            $queue->enqueue($i);
        }
    }

    $topological_order = [];
    while (!$queue->isEmpty()) {
        $u = $queue->dequeue();
        $topological_order[] = $u;

        foreach ($adj[$u] as $v) {
            $in_degree[$v]--;
            if ($in_degree[$v] == 0) {
                $queue->enqueue($v);
            }
        }
    }

    if (count($topological_order) == $numCourses) {
        return $topological_order;
    } else {
        return [];
    }
}

?>
```